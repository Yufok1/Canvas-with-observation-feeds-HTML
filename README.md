# 🜂 Canvas with Live AI Observation Feeds

A sovereign web interface for real-time AI observation, analysis, and collaborative synthesis. This application provides a canvas for user observations while integrating live intelligence streams from multiple AI systems, ensuring user sovereignty and comprehensive analysis capabilities.

## 🌟 Visual README
**Experience the Enhanced Visual Documentation**: [https://yufok1.github.io/Canvas-with-observation-feeds-HTML/](https://yufok1.github.io/Canvas-with-observation-feeds-HTML/)

*Features Matrix rain animation, cyberpunk aesthetics, and interactive documentation experience.*

## 🛠️ Troubleshooting

### AI Responses Not Appearing
- Check browser console for errors (F12)
- Verify model compatibility with gemma3:1b
- Ensure sufficient system resources (4GB+ RAM)
- Try clearing AI memory and restarting
- For council interface, check individual member status indicators
- **Recent Fix**: Check for JavaScript syntax errors that may prevent page loading

### Interface Layout Issues
- Use CTRL+mousewheel to resize panels
- Refresh the page if layout appears broken
- Clear browser cache if CSS doesn't load properly
- Ensure modern browser (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)
- **Recent Fix**: Layout issues from JavaScript errors have been resolved
- **Latest Fix**: Advanced Analysis panel now maintains full size during synthesis updates

### Correlative Analysis Errors
- **Recent Fix**: ReferenceError for `triggerCorrelativeAnalysis` has been resolved
- Ensure both canvas and DJINN Council interfaces are loaded
- Check localStorage for proper data synchronization
- Verify cross-window communication is functioning

### Synthesis Workflow Issues
- **Recent Fix**: AI agents now properly trigger synthesis after completion
- Check that all 5 AI systems have completed their rounds
- Verify polling is prevented during synthesis processes
- Monitor real-time status updates in the header
- **Latest Fix**: Synthesis Status now properly reflects when canvas is actively working

### AI Validation System Issues
- **Latest Fix**: Complete 8-agent validation ecosystem with predictive intelligence
- **Latest Fix**: Triangulated validation prevents quality issues through AI coaching
- **Latest Fix**: Emergency Recovery Agent handles extreme validation failures
- **Latest Fix**: Pattern Recognition Engine predicts and prevents validation problems
- **Latest Fix**: Quality Assurance Monitor ensures validator performance standards
- Monitor validation quality indicators: VALIDATED, REFINED, AI-CORRECTED, RECOVERED, CRITICAL FAILURE

### Advanced Analysis Panel Issues
- **Latest Fix**: Panel content now fills entire allocated space instead of being limited to small window
- **Latest Fix**: Synthesis report content properly scales within panel boundaries
- **Latest Fix**: Panel no longer resizes/minimizes during synthesis status updates
- The panel maintains 400px minimum height and uses full available width

### Memory Issues
- Clear AI memory via the "🧠 Clear Memory" button
- Reset localStorage if problems persist
- Monitor RAM usage - close other applications if needed
- **Recent Fix**: Improved memory compression prevents quota exceeded errors

## 🚀 Latest Features - AI Validation Ecosystem

### 🤖 Complete AI Validation System (8 Specialized Agents)
- **🔍 Primary Validator**: Quality validation with persistent memory system
- **🔧 Refinement Specialist**: AI-to-AI coaching and improvement expert
- **🚨 Recovery Agent**: Emergency intervention for extreme validation failures
- **🎯 Pattern Recognition Engine**: Predictive validation intelligence
- **⚡ Efficiency Optimizer**: Performance and workload management
- **📊 Quality Assurance Monitor**: Meta-validation system health monitoring
- **🧠 Cross-System Memory Network**: 8 interconnected localStorage-backed memory systems
- **🔄 Event-Driven Coordination**: Smart canvas-council integration with batch file mode selection

### 🏆 Advanced Validation Quality Levels
- **✅ VALIDATED** - Perfect first-time validation pass
- **✅ REFINED (2x)** - Improved through AI coaching iterations
- **⚠️ AI-CORRECTED (3x)** - Required validator corrections
- **🚨 RECOVERED** - Emergency intervention successful
- **💥 CRITICAL FAILURE** - Manual intervention required

### 🧞‍♂️ DJINN Council Document Surveillance Analysis System
- **5 Specialized Council Members**: Pattern & Witness, Recursive Wisdom, Creative Paradox, Sovereign Boundaries, Echo & Memory
- **Triangulated Validation**: Council + Primary Validator + Refinement Specialist working together
- **Document-Focused Analysis**: Specialized framework for evaluating document evolution through AI collaborative intelligence
- **3-Stage Collaborative Analysis**: Foundation → Cross-Pollination → Memory Synthesis with document transformation tracking
- **Real-time Document Monitoring**: Cross-window surveillance tracking how 5-AI system shapes document evolution
- **Validation Specialist Intelligence Synthesis**: AI-crafted masterful intelligence documents from council deliberations

### 🔮 Advanced Intelligence Features
- **Predictive Validation**: Pattern recognition predicts validation failures before they happen
- **Intelligent Coaching**: AI-to-AI communication improvement between validators and council members
- **Emergency Response Protocols**: Trauma surgeon approach for extreme validation edge cases
- **Performance Optimization**: Smart batching, workload distribution, and bottleneck prevention
- **System Health Monitoring**: Meta-validation ensures validators maintain high standards
- **Comprehensive Data Integration**: Real-time analysis of canvas content, AI memories, feed entries, and council history
- **Anti-Hallucination Safeguards**: Multi-layer validation prevents fabricated metrics and ensures factual accuracy

## 🛠️ Major Updates - Enhanced Intelligence Integration & Event-Driven Architecture (Latest)

### 🚀 Complete Intelligence Integration System
- **✅ Council Intelligence Integration**: Canvas AI agents now receive DJINN Council intelligence reports, consensus data, and strategic analysis
- **✅ Event-Driven Architecture**: Pure event-driven coordination - council only responds to synthesis reports, no continuous polling
- **✅ Zero Truncation Policy**: Eliminated all data truncation limits for complete intelligence access
- **✅ Mode-Based Integration**: Canvas-only mode vs council-integrated mode with intelligent detection
- **✅ Advanced Analysis Scroll Fix**: Fixed constant scroll position resets in synthesis report panel
- **✅ Enhanced Prompt Context**: Canvas AI agents receive full council strategic intelligence during analysis

### 🎯 Advanced Intelligence Features
- **Council Strategic Context**: Canvas AI systems informed by Pattern & Witness governance insights, Recursive Wisdom analysis, Creative Paradox resolution
- **Full Data Pipeline**: Complete intelligence reports, consensus findings, correlations, and actionable intelligence flow to canvas agents
- **Architectural Respect**: Standalone canvas operation preserved while council mode adds intelligence layer
- **Real-Time Intelligence**: Canvas agents receive latest council assessments during their specialized analysis
- **Cross-System Synthesis**: Council intelligence informs canvas analysis which feeds back to next council cycle

### 📊 Technical Improvements
- **Eliminated Polling Loops**: Removed 5-second canvas state checking and continuous orchestration
- **Pure Event Response**: Council waits for synthesis_report_generated events before any action
- **Complete Data Access**: Canvas AI memory context, council intelligence, and synthesis data without truncation
- **Enhanced Memory Integration**: AI systems maintain full conversational context and strategic awareness
- **Improved User Experience**: Advanced Analysis panel updates only on actual content changes, preserving scroll position
- **Architecture Modes**: Batch launcher determines standalone vs council-integrated operation modes

### 🚀 Previous AI Validation System Implementation
- **✅ 8-Agent AI Ecosystem**: Implemented comprehensive validation network with specialized AI agents
- **✅ Triangulated Validation**: Primary Validator + Refinement Specialist + Recovery Agent working together
- **✅ Predictive Intelligence**: Pattern Recognition Engine predicts validation failures before they happen
- **✅ Performance Management**: Efficiency Optimizer handles workload distribution and bottleneck prevention
- **✅ Meta-Validation**: Quality Assurance Monitor ensures validator quality and system health
- **✅ Memory Network**: 8 interconnected localStorage memory systems for cross-system learning

## Features

### Core Functionality
- **Sovereign Canvas**: User-controlled workspace for observations and assessments
- **Live AI Feeds**: Real-time intelligence streams from specialized AI systems:
  - ⚖️ **DJINN**: Governance & Strategic Analysis
  - 🔮 **NAZAR**: Fractal & Consciousness Analysis  
  - 🌊 **NARRA**: Pattern Recognition & Synthesis
  - 🐋 **WHALE**: Deep Interrogation & Memory
  - 🔱 **WATCHTOWER**: Operational Monitoring & Metrics

### DJINN Council Document Surveillance Analysis System
- **🧞‍♂️ Advanced Council Interface**: Dedicated document evolution analysis system (`djinn-council-shadow-governance.html`) with comprehensive collaborative intelligence tracking
- **5 Specialized Council Members**: Document analysis specialists with distinct analytical specializations:
  - 🜁 **Pattern & Witness**: Document structure and governance pattern analysis with cross-member insight integration
  - 🔮 **Recursive Wisdom**: Iterative knowledge synthesis tracking document evolution through AI collaborative intelligence
  - 🜃 **Creative Paradox**: Innovation catalyst analyzing document transformation patterns and conceptual coherence
  - 🜄 **Sovereign Boundaries**: Document integrity guardian analyzing how AI collaborative intelligence shapes content evolution
  - 🝊 **Echo & Memory**: Document memory orchestration tracking temporal evolution and synthesis impact
- **Document Evolution Focus**: Specialized analysis framework for tracking how 5-AI collaborative intelligence (DJINN-NAZAR-NARRA-WHALE-WATCHTOWER) transforms documents
- **Real-time Event Logging**: Comprehensive logging system tracking all council operations, analysis activities, report generations, and document evolution events
- **Dynamic Export Selection**: Advanced popup interface for selecting specific consensus reports, intelligence reports, and member analyses with detailed metadata
- **Advanced Analysis Auto-Update**: Real-time updating synthesis panel that automatically refreshes with latest canvas analysis content
- **Anti-Hallucination Architecture**: Strict data-only analysis prevents fabricated metrics and invented system states while tracking actual document transformation
- **Optimized Panel Layout**: Balanced interface proportions with consensus and intelligence panels properly sized relative to member panels
- **Comprehensive Document Intelligence**: Analysis covers document structure, AI collaborative impact, evolution patterns, and transformation quality

### Advanced Capabilities
- **AI Collaborative Synthesis**: Multi-system analysis with unified synthesis
- **Hierarchical Governance**: NAZAR-led triage council with DJINN oversight
- **Interactive Chat**: Direct communication with AI entities
- **Mouse Tracking**: Behavioral analysis and insights
- **Real-time Metrics**: System performance monitoring
- **Auto-save & Export**: Persistent data management
- **Canvas Change Detection**: Intelligent content analysis triggers
- **Dynamic GUI Resizing**: CTRL + Mousewheel for instant interface scaling
- **Real-time Orchestration Status**: Live AI system confidence monitoring
- **Enhanced Layout**: Square grid design for optimal space utilization
- **Launch Experience**: ASCII art batch files for startup
- **Extended Timeouts**: 10-20 minute timeouts for complex AI operations

### Technical Features
- **Activity-Based Polling**: Dynamic AI update intervals based on user engagement
- **Intelligent Caching**: Optimized response caching with configurable durations
- **Parallel Processing**: Concurrent AI system queries for efficiency
- **Memory Management**: Conversational continuity across sessions
- **Content Complexity Analysis**: Dynamic domain detection and insight refresh
- **Full-Height AI Feeds**: Optimized panel layout for maximum content visibility
- **Active Synthesis Indicators**: Dynamic status messages showing AI processing state

## Requirements


### Software Dependencies
- **Ollama**: Local AI model server (version 0.1.0+ required)
- **Modern Web Browser**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **Local Server**: Required for proper operation and local-only traffic (see below)

### AI Models
The application requires the following Ollama models:
- `gemma3:1b` (used for all AI systems)

### System Requirements
- **RAM**: 4GB minimum, 8GB recommended
- **Storage**: 2GB free space for models
- **Network**: Local Ollama connection (localhost:11434)

## Quick Start Guide

### Option 1: Professional Launch (Recommended)
Use the provided batch files for the ultimate launch experience:

1. **Double-click `launch-canvas.bat`**
2. Watch the ASCII art startup sequence
3. The script will automatically:
   - Start Ollama server (if not already running)
   - Launch Python web server
   - Open your browser to the application
   - Display real-time status updates

**That's it!** Enjoy the launch experience with full automation.

### Option 2: Manual Setup
If you prefer manual control:

#### Step 1: Download the Repository
```bash
git clone https://github.com/Yufok1/Canvas-with-observation-feeds-HTML.git
cd Canvas-with-observation-feeds-HTML
```

#### Step 2: Install Ollama
- Download from: https://ollama.ai/
- Install and run Ollama
- Pull the required model:
```bash
ollama pull gemma3:1b
```

#### Step 3: Start Ollama Server
```bash
ollama serve
```

#### Step 4: Start Local Web Server
**Important**: You must start the server from the project directory that contains the HTML file.

```bash
python -m http.server 8000
```

**Why this matters**: The web server serves files from the directory where it's started. If you start the server from a different directory, you'll get 404 errors when trying to access the HTML file.

#### Step 5: Access the Application
Open your browser and go to: `http://localhost:8000/canvas-with-observation-feeds.html`

**For DJINN Council Surveillance**: Access the governance interface at: `http://localhost:8000/djinn-council-shadow-governance.html`

**That's it!** The AI features will now work because both the web app and Ollama are running locally.

## 🚀 Launch Modes

### 🎯 Standalone Canvas Mode
Use `launch-canvas.bat` for independent canvas operation:
- **Solo AI Operation**: 5 AI systems (DJINN, NAZAR, NARRA, WHALE, WATCHTOWER) with continuous auto-polling
- **Independent Synthesis**: Self-contained analysis cycles without external council oversight
- **Pure Canvas Experience**: Direct AI-to-canvas interaction with memory continuity

### 🧞‍♂️ Council-Integrated Intelligence Mode
Use `LAUNCH_CANVAS_SURVEILLANCE.bat` for enhanced intelligence ecosystem:
- **Canvas + Council Integration**: Canvas AI agents receive strategic intelligence from DJINN Council
- **Event-Driven Architecture**: Council responds only to synthesis reports, eliminating continuous polling
- **Enhanced AI Context**: Canvas agents informed by council governance insights, pattern analysis, and strategic assessments
- **8-Agent Validation Network** with specialized validation roles
- **Zero Truncation Intelligence**: Complete data flow between canvas analysis and council intelligence
- **Dual-Window Operation**: Canvas workspace + Council surveillance interface with cross-system communication

### Enhanced Interface Features
Once launched, you'll experience:
- **8 Specialized AI Agents**: Complete validation ecosystem with memory systems
- **Validation Quality Indicators**: VALIDATED, REFINED, AI-CORRECTED, RECOVERED, CRITICAL FAILURE
- **Predictive Intelligence**: Pattern recognition prevents validation issues
- **Smart Performance Management**: Efficiency optimization and bottleneck prevention
- **Meta-Validation**: Quality assurance monitoring of the validation system itself
- **Cross-System Learning**: AI agents learn from each interaction and improve over time
- **No Breathing Effect**: Clean, professional animations
- **Active Synthesis Indicators**: Visual feedback for AI processing

## Why GitHub Pages Won't Work

The GitHub Pages version (`https://yufok1.github.io/...`) **cannot connect to Ollama** due to fundamental browser security restrictions:

### GitHub Pages Demo (UI Only)
You can view the interface at: [https://yufok1.github.io/Canvas-with-observation-feeds-HTML/canvas-with-observation-feeds.html](https://yufok1.github.io/Canvas-with-observation-feeds-HTML/canvas-with-observation-feeds.html)

**This is for UI demonstration only** - the AI features will not work due to CORS restrictions.

### CORS Security Restriction
- Browsers block remote websites from accessing `localhost` resources
- This is a security feature to prevent malicious sites from accessing your local services
- GitHub Pages is considered a "remote origin" even though you own the repository

### The Error You See
```
Access to fetch at 'http://localhost:11434/api/generate' from origin 'https://yufok1.github.io' has been blocked by CORS policy
```

This error is **expected and cannot be fixed** for the GitHub Pages version.

### Browser Workarounds (Not Recommended)
Some browsers allow disabling CORS for development, but this:
- Reduces your security
- May not work reliably
- Is not suitable for production use

**Recommendation**: Use the local version - it's more secure, faster, and fully functional. The GitHub Pages version is only for UI demonstration.

```bash
# Download and install Ollama from https://ollama.ai/
# Follow platform-specific installation instructions
```

### 2. Pull Required Models
```bash
# Pull the unified model used by all AI systems
ollama pull gemma3:1b
```

### 3. Start Ollama Server
```bash
# Start Ollama in a terminal
ollama serve
```


### 4. Launch the Application
You **must** run a local web server to access the application. Directly opening the HTML file (using `file://`) will cause issues with browser security, localStorage, and AI connectivity.

Start a local server (choose one):
```bash
# Using Python (recommended)
python -m http.server 8000

# Using Node.js (alternative)
npx http-server -p 8000
```

Then access the app via: [http://localhost:8000/canvas-with-observation-feeds.html](http://localhost:8000/canvas-with-observation-feeds.html)

The interface will automatically connect to Ollama on localhost:11434 for all AI features. All traffic and data remain local to your machine.

## Usage

### Getting Started
1. **Canvas Workspace**: Begin by typing observations in the main canvas area
2. **AI Monitoring**: AI systems automatically analyze your content and provide insights
3. **Interactive Chat**: Use the chat interface to communicate directly with AI entities
4. **Synthesis**: Click "🎭 Synthesize" to trigger collaborative AI analysis
5. **DJINN Council**: Access the governance interface for comprehensive surveillance and intelligence reports

### DJINN Council Interface
The DJINN Council provides advanced governance oversight and surveillance capabilities:

#### Council Members (Enhanced with Complete Memory Access)
- **🜁 Pattern & Witness**: Governance pattern analysis specialist with access to all localStorage data, council member reports, and cross-member insight integration
- **🔮 Recursive Wisdom**: Knowledge synthesis specialist utilizing complete historical memory context, AI conversation histories, and consensus patterns
- **🜃 Creative Paradox**: Innovation catalyst analyzing actual stored data for paradox resolution, leveraging real memory patterns and council findings
- **🜄 Sovereign Boundaries**: Autonomy guardian with direct access to AI system memories, tracking real autonomy patterns from stored conversation data
- **🝊 Echo & Memory**: Memory orchestration specialist coordinating analysis of all stored memories, AI insights, and temporal data continuity
- **📝 Canvas Monitor**: Real-time surveillance system with complete localStorage monitoring and cross-window data synchronization

#### Key Features (Enhanced)
- **Complete Memory Integration**: All council members access localStorage data including AI memories, conversation histories, feed entries, and previous council reports
- **Real Data Analysis**: Council members analyze actual stored data, eliminating hallucination and fabricated metrics
- **Cross-Member Collaboration**: Members reference each other's insights, build upon consensus findings, and provide interconnected analysis
- **Anti-Hallucination Architecture**: Strict data-only analysis prevents invented percentages, performance data, and system states
- **Full-Panel Intelligence Display**: Consensus and intelligence reports expand to utilize complete interface panels
- **Comprehensive Ecosystem Analysis**: Strategic intelligence covers document evolution, memory bank trends, dashboard metrics, and insight synthesis
- **Memory Compression & Error Prevention**: Intelligent localStorage management with quota exceeded error handling
- **Real-Time localStorage Monitoring**: Direct access to all system data including AI conversation histories, insights, and synthesis content

### Key Interactions
- **Observation Tools**: Mark content with pattern, anomaly, correlation, insight, or note markers
- **Canvas Controls**: Save, export, or clear your work
- **AI Feeds**: Monitor real-time intelligence streams in the feeds panel
- **Metrics Dashboard**: View system performance and correlations
- **Triage Force**: Access advanced analysis capabilities via the triage button
- **Browser Controls**: Use CTRL + mousewheel to resize windows and interface elements
- **Council Controls**: Use Analyze Now, Generate Report, Clear Intel, and Export Data buttons

### Advanced Features
- **Proactive Engagement**: AI systems may initiate conversations based on content patterns
- **Memory Continuity**: Previous interactions are remembered across sessions
- **Content Analysis**: Complex content triggers enhanced AI analysis
- **Mouse Insights**: Behavioral patterns are analyzed for user experience optimization

## Architecture

### System Components
- **Frontend**: Dual HTML interfaces with embedded CSS/JavaScript
  - `canvas-with-observation-feeds.html`: Main canvas workspace
  - `djinn-council-shadow-governance.html`: Governance surveillance interface
- **AI Integration**: Direct API calls to local Ollama instance
- **Data Storage**: Browser localStorage for persistence
- **Caching System**: Intelligent response caching with Map-based storage
- **Polling Engine**: Activity-aware update scheduling

### AI System Hierarchy
```
NAZAR Triage Council
├── Internal Council (Intuition, Fractal, Emotional, Pattern)
├── DJINN Governance Oversight
│   ├── Pattern & Witness
│   ├── Recursive Wisdom
│   ├── Creative Paradox
│   ├── Sovereign Boundaries
│   └── Echo & Memory
└── Entity Authorization & Response Routing
```

### Data Flow
1. User input → Canvas change detection
2. Content analysis → AI system activation
3. Parallel queries → Response aggregation
4. Synthesis coordination → Unified insights
5. Council surveillance → Governance analysis
6. Intelligence synthesis → Comprehensive reports
7. Memory update → Persistent storage

## Configuration

### Model Assignment
Models are configured in the `optimizedModelMap` object:
```javascript
const optimizedModelMap = {
    djinn: "gemma3:1b",
    nazar: "gemma3:1b",
    // ... other systems
};
```

#### Ollama Agent Interchangeability
The AI systems are fully interchangeable with any Ollama-compatible model. To change models:

1. **Pull the desired model**:
   ```bash
   ollama pull [model-name]
   # Examples:
   ollama pull llama2:7b
   ollama pull mistral:7b
   ollama pull codellama:7b
   ```

2. **Update the configuration** in `canvas-with-observation-feeds.html`:
   ```javascript
   const optimizedModelMap = {
       djinn: "llama2:7b",        // Governance & strategic analysis
       nazar: "mistral:7b",       // Consciousness & fractal analysis
       narra: "codellama:7b",     // Pattern recognition
       whale: "gemma3:1b",        // Memory & interrogation
       watchtower: "llama2:7b"    // Monitoring & metrics
   };
   ```

3. **Considerations for model selection**:
   - **Context window**: Larger models (7B+) handle longer conversations better
   - **Speed vs. quality**: Smaller models (1B-3B) are faster but less detailed
   - **Specialization**: Code-focused models work well for technical analysis
   - **Memory usage**: Larger models require more RAM
   - **Compatibility**: Ensure the model supports the required API endpoints

4. **Testing new models**:
   - Start with one system to test compatibility
   - Monitor response quality and speed
   - Adjust polling intervals if needed for slower models
   - Check console logs for any API compatibility issues

### Caching Settings
Adjust cache durations in the `intelligentCache` configuration:
```javascript
CACHE_DURATION: 180000,    // 3 minutes for responses
CONTEXT_DURATION: 300000,  // 5 minutes for context
SYNTHESIS_DURATION: 600000 // 10 minutes for synthesis
```

### Polling Intervals
Activity-based polling intervals:
```javascript
pollingIntervals: {
    high: 120000,    // 2 minutes when active
    medium: 300000,  // 5 minutes when moderate
    low: 600000      // 10 minutes when idle
}
```

## Troubleshooting

### Common Issues

**Batch File Won't Start**
- Ensure Python is installed and in your PATH
- Run as Administrator if permission errors occur
- Check that the batch file is in the same directory as the HTML file

**Ollama Connection Failed**
- Ensure Ollama is running: `ollama serve`
- Check port 11434 is available
- Verify model is pulled: `ollama list`
- Try restarting Ollama if connection issues persist

**Request Timeouts**
- The system now uses extended timeouts (10 minutes for regular queries, 20 minutes for synthesis)
- If timeouts still occur, check Ollama performance and system resources
- Consider using a smaller model or reducing concurrent operations
- Monitor RAM usage - complex operations may require 8GB+ RAM

**DJINN Council Interface Issues**
- Ensure both HTML files are in the same directory
- Check that the council interface loads at `/djinn-council-shadow-governance.html`
- Verify tooltips appear on hover over interface elements
- If surveillance features don't work, check canvas interface connectivity
- For live canvas monitor iframe issues, ensure both pages are served from the same server

**Slow Performance**
- Reduce polling frequency in configuration
- Clear browser cache and localStorage
- Use a local server instead of file:// protocol
- Close other resource-intensive applications
- For DJINN Council, consider maximizing individual panels instead of viewing all simultaneously

**AI Responses Not Appearing**
- Check browser console for errors (F12)
- Verify model compatibility with gemma3:1b
- Ensure sufficient system resources (4GB+ RAM)
- Try clearing AI memory and restarting
- For council interface, check individual member status indicators

**Interface Layout Issues**
- Use CTRL+mousewheel to resize panels
- Refresh the page if layout appears broken
- Clear browser cache if CSS doesn't load properly
- Ensure modern browser (Chrome 90+, Firefox 88+, Edge 90+)

**Memory Issues**
- Clear AI memory via the "🧠 Clear Memory" button
- Reset localStorage if problems persist
- Monitor RAM usage - close other applications if needed
- Consider restarting the browser session

### Debug Mode
Enable verbose logging by opening browser developer tools (F12) and monitoring the console for detailed operation logs. Look for:
- AI orchestration status messages
- Network request/response details
- Canvas change detection events
- Memory usage warnings

### Batch File Troubleshooting
If the automated launch fails:
1. Manually start Ollama: `ollama serve`
2. Start web server: `python -m http.server 8000`
3. Open browser to: `http://localhost:8000/canvas-with-observation-feeds.html`
4. Check console for any remaining errors

## Contributing

### Development Setup
1. Fork the repository
2. Make changes to the HTML file
3. Test using the provided batch file (`launch-canvas.bat`)
4. Ensure cross-browser compatibility
5. Verify all enhanced UI features work correctly (square layout, real-time status, shortcuts)

### Testing Enhanced Features
- **Layout Testing**: Verify 2x2 grid layout and CTRL+mousewheel resizing
- **Status Updates**: Confirm real-time orchestration status in header
- **Batch Files**: Test both batch file variants for proper startup sequence
- **DJINN Council**: Test surveillance interface, tooltips, and intelligence reports
- **Performance**: Monitor memory usage with active AI synthesis
- **Cross-browser**: Test on Chrome, Firefox, and Edge
- **Synthesis Workflow**: Verify AI agent completion triggers synthesis properly
- **Correlative Analysis**: Test DJINN Council correlative analysis functionality
- **Error Handling**: Verify graceful handling of network timeouts and API failures
- **Memory Management**: Test localStorage compression and quota management

### Code Style
- Use consistent indentation (4 spaces)
- Comment complex logic sections
- Maintain separation of concerns in JavaScript functions
- Follow HTML5 semantic standards
- Preserve enhanced UI features and animations

### Feature Requests
- Open issues for new AI system integrations
- Suggest improvements to the governance hierarchy
- Propose enhancements to the synthesis process
- Request UI/UX improvements for the orchestration interface

## License

This project is provided as-is for educational and research purposes. Please ensure compliance with Ollama's licensing terms and any applicable AI usage policies.

## Support

For issues or questions:
- Check the troubleshooting section above
- Review browser console logs for error details
- Ensure Ollama is properly configured and running

---


**Note**: This application requires a local Ollama installation **and** a local web server. All AI processing and data storage are strictly local—no external servers are used. Monitor your system's performance and adjust polling intervals as needed.

https://github.com/Yufok1/Canvas-with-observation-feeds-HTML

## Matrix Rain Effect

The Matrix rain background effect in this README is powered by:  
**[Matrix-Rain-HTML-Background](https://github.com/Yufok1/Matrix-Rain-HTML-Background)**

<!-- Matrix Rain Effect: Inspired by https://github.com/Yufok1/Matrix-Rain-HTML-Background -->
<!-- Matrix Rain Background Effect -->
<div style="position: relative; z-index: 1;">
<canvas id="matrixRainCanvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; opacity: 0.4; background: transparent;"></canvas>

<style>
/* Matrix Rain Styles - Applied immediately */
#matrixRainCanvas {
    font-family: monospace;
}

/* Apply Matrix styling immediately - clean white text for better readability */
body {
    background: radial-gradient(ellipse at center, #0a0a0a 0%, #1a1a2e 50%, #0f0f23 100%) !important;
    color: #ffffff !important;
    font-family: 'Courier New', monospace !important;
    margin: 0;
    padding: 20px;
}

h1, h2, h3, h4, h5, h6 {
    color: #ffffff !important;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5) !important;
}

code {
    background: rgba(0, 0, 0, 0.95) !important;
    border: 2px solid #ffffff !important;
    color: #ffffff !important;
    padding: 2px 4px;
    border-radius: 3px;
}

pre {
    background: rgba(0, 0, 0, 0.98) !important;
    border: 2px solid #ffffff !important;
    color: #ffffff !important;
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto;
}

a {
    color: #00ff41 !important;
    text-decoration: underline !important;
    font-weight: bold !important;
    text-shadow: 0 0 8px rgba(0, 255, 65, 0.7) !important;
}

a:hover {
    color: #ff6b6b !important;
    text-shadow: 0 0 12px rgba(255, 107, 107, 1.0) !important;
}

/* Additional Matrix styling - clean white theme */
.markdown-body {
    background: transparent !important;
    color: #ffffff !important;
}

.repository-content {
    background: transparent !important;
}
</style>

<script>
// Matrix Rain Animation - Enhanced visibility
let matrixCanvas, matrixCtx, matrixDrops, matrixInterval;

function initMatrixRain() {
    matrixCanvas = document.getElementById('matrixRainCanvas');
    if (!matrixCanvas) {
        console.log('Matrix Rain: Canvas not found');
        return;
    }
    
    matrixCtx = matrixCanvas.getContext('2d');
    if (!matrixCtx) {
        console.log('Matrix Rain: Could not get canvas context');
        return;
    }
    
    console.log('Matrix Rain: Initializing...');
    
    // Set canvas size
    function resizeCanvas() {
        matrixCanvas.width = window.innerWidth;
        matrixCanvas.height = window.innerHeight;
        console.log(`Matrix Rain: Canvas resized to ${matrixCanvas.width}x${matrixCanvas.height}`);
    }
    
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);
    
    // Initialize drops
    const fontSize = 14;
    const columns = Math.floor(matrixCanvas.width / fontSize);
    matrixDrops = [];
    
    for (let i = 0; i < columns; i++) {
        matrixDrops[i] = Math.random() * -100;
    }
    
    console.log(`Matrix Rain: Initialized ${columns} columns`);
    
    // Start animation
    startMatrixAnimation();
}

function startMatrixAnimation() {
    if (matrixInterval) {
        clearInterval(matrixInterval);
    }
    
    console.log('Matrix Rain: Starting animation');
    matrixInterval = setInterval(drawMatrixRain, 50);
}

function drawMatrixRain() {
    const fontSize = 14;
    const opacity = 0.9;
    
    // Clear canvas with fade effect
    matrixCtx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    matrixCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
    
    // Set font
    matrixCtx.font = `${fontSize}px monospace`;
    
    // Matrix characters
    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%+-/~{[|`]}';
    const columns = Math.floor(matrixCanvas.width / fontSize);
    
    // Canvas site color palette for harmonic waves
    const canvasColors = ['#00ff41', '#4ecdc4', '#ff6b6b', '#cc88cc', '#001122', '#002233'];
    
    for (let i = 0; i < columns; i++) {
        // Random character
        const char = characters[Math.floor(Math.random() * characters.length)];
        
        // Position
        const x = i * fontSize;
        const y = matrixDrops[i] * fontSize;
        
        // Harmonic wave effect (from the actual Harmonic Waves pattern)
        const wave = Math.sin(Date.now() / 1000 + i * 0.1) * 5;
        const harmonicY = y + wave;
        
        // Harmonic color cycling (from the actual Harmonic Waves pattern)
        const hue = 120 + Math.sin(Date.now() / 2000 + i * 0.05) * 60;
        const hslColor = `hsl(${hue}, 100%, 50%)`;
        
        // But use Canvas colors instead of HSL for the harmonic effect
        const colorIndex = Math.floor((hue / 360) * canvasColors.length) % canvasColors.length;
        const color = canvasColors[colorIndex];
        
        matrixCtx.fillStyle = color;
        matrixCtx.globalAlpha = opacity;
        matrixCtx.fillText(char, x, harmonicY);
        
        // Slower drop speed (from the actual Harmonic Waves pattern)
        matrixDrops[i] += 0.8;
        if (matrixDrops[i] * fontSize > matrixCanvas.height) {
            matrixDrops[i] = 0;
        }
    }
}

// Initialize immediately when script loads
console.log('Matrix Rain: Script loaded, initializing...');
initMatrixRain();

// Also try on DOM content loaded as backup
document.addEventListener('DOMContentLoaded', function() {
    console.log('Matrix Rain: DOM loaded, ensuring initialization...');
    if (!matrixInterval) {
        initMatrixRain();
    }
});
</script>
